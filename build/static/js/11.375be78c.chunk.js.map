{"version":3,"sources":["redux/actions/QuanLyPhimAction.js","services/QuanLyPhimService.js","pages/Contact/Contact.js"],"names":["layDanhSachPhimAction","dispatch","a","QLPhimService","layDanhSachPhim","result","type","SET_DANH_SACH_PHIM","arrFilm","data","content","console","log","themPhimUpLoadHinhAction","formData","themPhimUpLoadHinh","alert","response","capNhatPhimUploadAction","capNhatPhimUpload","history","push","layThongTinPhimAction","maPhim","layThongTinPhim","SET_THONG_TIN_PHIM","thongTinPhim","xoaPhimAction","xoaPhim","e","layDanhSachBanner","get","GROUPID","post","delete","baseService","Contact","props","useState","toggler","setToggler","useSelector","state","QuanLyPhimReducer","useDispatch","useEffect","action","trailer","setTrailer","className","styles","paddingTop","slice","map","phim","index","src","hinhAnh","onError","target","onerror","tenPhim","length","style","height","stle","moTa","fontSize","color","cursor","onClick","sources","width","frameBorder","allow","allowFullScreen"],"mappings":"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","file":"static/js/11.375be78c.chunk.js","sourcesContent":["import { history } from \"../../App\";\r\nimport { QLPhimService } from \"../../services/QuanLyPhimService\";\r\nimport { SET_DANH_SACH_PHIM, SET_THONG_TIN_PHIM } from \"./types/QuanLyPhimType\";\r\n\r\n\r\nexport const layDanhSachPhimAction = ()=>{\r\n    return async (dispatch)=>{\r\n        try{\r\n                //sử dụng tham số \r\n                const result = await QLPhimService.layDanhSachPhim();\r\n               \r\n                dispatch({\r\n                    type:SET_DANH_SACH_PHIM ,\r\n                    arrFilm: result.data.content\r\n                   \r\n                })\r\n    \r\n            }catch(e){\r\n                console.log('e',e);\r\n            }\r\n    };\r\n}\r\n\r\nexport const themPhimUpLoadHinhAction = (formData)=>{\r\n    return async (dispatch) => {\r\n        try{\r\n            let result = await QLPhimService.themPhimUpLoadHinh(formData);\r\n            alert('Thêm phim thành công ');\r\n            console.log('result', result);\r\n        }\r\n        catch(error){\r\n            console.log(error.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\nexport const capNhatPhimUploadAction = (formData)=>{\r\n    return async (dispatch) => {\r\n        try{\r\n            let result = await QLPhimService.capNhatPhimUpload(formData);\r\n            alert('Cập nhật phim thành công ');\r\n            console.log('result', result);\r\n            dispatch(layDanhSachPhimAction());\r\n            history.push('/admin/Films');\r\n        }\r\n        catch(error){\r\n            console.log(error.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\nexport const layThongTinPhimAction = (maPhim)=>{\r\n    return async (dispatch) => {\r\n        try{\r\n            //sử dụng tham số \r\n            const result = await QLPhimService.layThongTinPhim(maPhim);\r\n            // console.log(result.data.content);\r\n\r\n            dispatch({\r\n                type:SET_THONG_TIN_PHIM,\r\n                thongTinPhim:result.data.content\r\n            })\r\n        }\r\n        catch (e) {\r\n            console.log('e',e);\r\n        }\r\n    }\r\n}\r\n\r\nexport const xoaPhimAction = (maPhim) =>{\r\n    return async (dispatch) =>{\r\n        try{\r\n            //sử dụng tham số \r\n            const result = await QLPhimService.xoaPhim(maPhim);\r\n            alert('Xóa phim thành công');\r\n            //sau khi xóa load lại danh sách phim mới \r\n            dispatch(layDanhSachPhimAction());\r\n        }\r\n        catch (e) {\r\n            console.log({e});\r\n        }\r\n    }\r\n}","import { GROUPID } from \"../util/settings/Config\";\r\nimport { baseService } from \"./BaseSevice\";\r\n\r\n\r\nexport class QuanLyPhimService extends baseService{\r\n    constructor(){\r\n        super();\r\n    }\r\n    layDanhSachBanner =()=>{\r\n        return this.get(`/api/QuanLyPhim/LayDanhSachBanner`);\r\n    }\r\n\r\n    layDanhSachPhim =()=>{\r\n        return this.get(`/api/QuanLyPhim/LayDanhSachPhim?maNhom=${GROUPID}`);\r\n    }\r\n    themPhimUpLoadHinh = (formData)=>{\r\n        return this.post(`/api/QuanLyPhim/ThemPhimUploadHinh`,formData);\r\n    }\r\n\r\n    layThongTinPhim = (maPhim)=>{\r\n        return this.get(`/api/QuanLyPhim/LayThongTinPhim?MaPhim=${maPhim}`);\r\n    }\r\n\r\n    capNhatPhimUpload = (formData) => {\r\n        return this.post(`/api/QuanLyPhim/CapNhatPhimUpload`,formData);\r\n    }\r\n\r\n    xoaPhim = (maPhim)=>{\r\n        return this.delete(`/api/QuanLyPhim/XoaPhim?MaPhim=${maPhim}`);\r\n    }\r\n}\r\n\r\nexport const QLPhimService = new QuanLyPhimService();","import React, { useEffect, useState } from 'react'\r\nimport { Fragment } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { layDanhSachPhimAction } from '../../redux/actions/QuanLyPhimAction';\r\nimport './Contact.scss';\r\nimport { history } from '../../App';\r\n\r\nimport FsLightbox from 'fslightbox-react';\r\nimport { PlayCircleOutlined } from '@ant-design/icons';\r\n\r\nexport default function Contact(props) {\r\n    const [toggler, setToggler] = useState(false);\r\n    const { arrFilm } = useSelector(state => state.QuanLyPhimReducer);\r\n    console.log('arrFilm', arrFilm);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        const action = layDanhSachPhimAction()\r\n        dispatch(action);\r\n\r\n    }, [])\r\n    const [trailer, setTrailer] = useState();\r\n\r\n    const renderFilm = () => {\r\n        return arrFilm.slice(0, 24).map((phim, index) => {\r\n            return <div className=\"wrapper col-12 col-md-4 col-lg-3\" key={index} >\r\n                <div className=\"card\"><img src={phim.hinhAnh} onError={(e) => { e.target.onerror = null; e.target.src = \"https://picsum.photos/id/1004/200/300\" }} />\r\n                    <div className=\"info w-full\">\r\n                        <h1 className=\"text-white text-xl\">{phim.tenPhim.length > 20 ? <span>{phim.tenPhim.slice(0, 16)} ...</span> : <span>{phim.tenPhim} </span>} </h1>\r\n                        <div style={{height:'100px'}}>\r\n                        <p stle={{height:'100px'}}>{phim.moTa.length > 100 ? <span>{phim.moTa.slice(0, 80)}... </span> : <span>{phim.moTa} </span>}</p>\r\n                        </div>\r\n                        \r\n                        <PlayCircleOutlined className=\"text-center w-full hover:opacity-50\" style={{ fontSize: '60px', color: 'white', cursor: 'pointer' }} onClick={() => {\r\n                            setToggler(!toggler);\r\n                            setTrailer(phim.trailer);\r\n                        }}>\r\n                           \r\n                        </PlayCircleOutlined>\r\n                        <button className=\"text-center w-full mt-16\"  onClick={() => {\r\n                            history.push(`/detail/${phim.maPhim}`)\r\n                        }}>Đặt vé</button>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"bg-dark\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\" styles={{ paddingTop: '75px' }}>\r\n                        {renderFilm()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <FsLightbox\r\n                toggler={toggler}\r\n                sources={[\r\n                    // `${phim.trailer}`\r\n                    <iframe src={`${trailer}`} width=\"1920px\" height=\"1080px\"\r\n                        frameBorder=\"0\" allow=\"autoplay; fullscreen\" allowFullScreen />\r\n                ]}\r\n\r\n            />\r\n        </Fragment>\r\n    )\r\n}\r\n"],"sourceRoot":""}