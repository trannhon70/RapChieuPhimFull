(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[17],{306:function(t,n,e){"use strict";e.d(n,"b",(function(){return u})),e.d(n,"d",(function(){return h})),e.d(n,"a",(function(){return l})),e.d(n,"c",(function(){return m})),e.d(n,"e",(function(){return d}));var r=e(71),a=e.n(r),c=e(110),i=e(127),o=e(307),s=e(74),u=function(){return function(){var t=Object(c.a)(a.a.mark((function t(n){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.layDanhSachPhim();case 3:e=t.sent,n({type:s.a,arrFilm:e.data.content}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("e",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(n){return t.apply(this,arguments)}}()},h=function(t){return function(){var n=Object(c.a)(a.a.mark((function n(e){var r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.themPhimUpLoadHinh(t);case 3:r=n.sent,alert("Th\xeam phim th\xe0nh c\xf4ng "),console.log("result",r),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(null===(c=n.t0.response)||void 0===c?void 0:c.data);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()},l=function(t){return function(){var n=Object(c.a)(a.a.mark((function n(e){var r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.capNhatPhimUpload(t);case 3:r=n.sent,alert("C\u1eadp nh\u1eadt phim th\xe0nh c\xf4ng "),console.log("result",r),e(u()),i.b.push("/admin/Films"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(null===(c=n.t0.response)||void 0===c?void 0:c.data);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(t){return n.apply(this,arguments)}}()},m=function(t){return function(){var n=Object(c.a)(a.a.mark((function n(e){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.layThongTinPhim(t);case 3:r=n.sent,e({type:s.d,thongTinPhim:r.data.content}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("e",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()},d=function(t){return function(){var n=Object(c.a)(a.a.mark((function n(e){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.xoaPhim(t);case 3:n.sent,alert("X\xf3a phim th\xe0nh c\xf4ng"),e(u()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log({e:n.t0});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()}},307:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(44),a=e(126),c=e(125),i=e(19),o=new(function(t){Object(a.a)(e,t);var n=Object(c.a)(e);function e(){var t;return Object(r.a)(this,e),(t=n.call(this)).layDanhSachBanner=function(){return t.get("/api/QuanLyPhim/LayDanhSachBanner")},t.layDanhSachPhim=function(){return t.get("/api/QuanLyPhim/LayDanhSachPhim?maNhom=".concat(i.b))},t.themPhimUpLoadHinh=function(n){return t.post("/api/QuanLyPhim/ThemPhimUploadHinh",n)},t.layThongTinPhim=function(n){return t.get("/api/QuanLyPhim/LayThongTinPhim?MaPhim=".concat(n))},t.capNhatPhimUpload=function(n){return t.post("/api/QuanLyPhim/CapNhatPhimUpload",n)},t.xoaPhim=function(n){return t.delete("/api/QuanLyPhim/XoaPhim?MaPhim=".concat(n))},t}return e}(e(128).a))},390:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return y}));var r=e(8),a=e(54),c=e(0),i=e(400),o=e(402),s=e(313),u=e(396),h=e(367),l=e.n(h),m=e(166),d=e(404),f=e(405),p=e(323),j=e(26),b=e(306),x=e(23),g=e(127),v=e(1);function y(t){var n=Object(j.d)((function(t){return t.QuanLyPhimReducer})).arrFilmDefault,e=Object(j.c)();console.log({arrFilmDefault:n}),Object(c.useEffect)((function(){e(Object(b.b)())}),[]);var h=n,y=Object(c.useState)({searchText:"",searchedColumn:""}),O=Object(a.a)(y,2),P=O[0],w=O[1],k=function(t){return{filterDropdown:function(n){var e=n.setSelectedKeys,r=n.selectedKeys,a=n.confirm,c=n.clearFilters;return Object(v.jsxs)("div",{style:{padding:8},children:[Object(v.jsx)(i.a,{ref:function(t){P.searchInput=t},placeholder:"Search ".concat(t),value:r[0],onChange:function(t){return e(t.target.value?[t.target.value]:[])},onPressEnter:function(){return T(r,a,t)},style:{marginBottom:8,display:"block"}}),Object(v.jsxs)(o.b,{children:[Object(v.jsx)(s.a,{type:"primary",onClick:function(){return T(r,a,t)},icon:Object(v.jsx)(m.a,{}),size:"small",style:{width:90},children:"Search"}),Object(v.jsx)(s.a,{onClick:function(){return S(c)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(t){return Object(v.jsx)(m.a,{style:{color:t?"#1890ff":void 0}})},onFilter:function(n,e){return e[t]?e[t].toString().toLowerCase().includes(n.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return P.searchInput.select()}),100)},render:function(n){return P.searchedColumn===t?Object(v.jsx)(l.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[P.searchText],autoEscape:!0,textToHighlight:n?n.toString():""}):n}}},T=function(t,n,e){n(),w({searchText:t[0],searchedColumn:e})},S=function(t){t(),w({searchText:""})},C=[Object(r.a)({title:"M\xe3 phim",dataIndex:"maPhim",key:"maPhim",width:"15%"},k("maPhim")),{title:"H\xecnh \u1ea3nh ",dataIndex:"hinhAnh",render:function(t,n,e){return Object(v.jsx)(c.Fragment,{children:Object(v.jsx)("img",{src:n.hinhAnh,alt:n.hinhAnh,width:50,height:50,onError:function(t){t.target.onerror=null,t.target.src="https://picsum.photos/id/".concat(e,"/100/100")}})})},key:"hinhAnh",width:"15%"},Object(r.a)(Object(r.a)({title:"T\xean phim",dataIndex:"tenPhim",key:"tenPhim"},k("tenPhim")),{},{sortDirections:["descend","ascend"],width:"20%"}),{title:"M\xf4 t\u1ea3",dataIndex:"moTa",key:"moTa",render:function(t,n){return Object(v.jsx)(c.Fragment,{children:n.moTa.length>100?n.moTa.substr(0,100)+"...":n.moTa})},onFilter:function(t,n){return n.address.startsWith(t)},filterSearch:!0,width:"40%"},{title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"hanhDong",render:function(t,n){return Object(v.jsx)(c.Fragment,{children:Object(v.jsxs)("div",{className:"flex gap-4",children:[Object(v.jsx)(x.a,{to:"/admin/Films/edit/".concat(n.maPhim),className:"text-2xl ",children:Object(v.jsx)(d.a,{style:{color:"#006400"}})},1),Object(v.jsx)("span",{style:{cursor:"pointer"},className:"text-2xl ",onClick:function(){window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a phim "+n.tenPhim)&&e(Object(b.e)(n.maPhim))},children:Object(v.jsx)(f.a,{style:{color:"red"}})},2),Object(v.jsx)(x.a,{to:"/admin/showtime/".concat(n.maPhim,"/").concat(n.biDanh),className:"text-2xl ",children:Object(v.jsx)(p.a,{style:{color:"green"},onClick:function(){localStorage.setItem("filmParams",JSON.stringify(n))}})},3)]})})},onFilter:function(t,n){return n.address.startsWith(t)},filterSearch:!0,width:"10%"}];return Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{className:"text-center text-2xl",children:"Danh s\xe1ch phim"}),Object(v.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:function(){g.b.push("/admin/Films/addnew")},children:"Th\xeam phim"}),Object(v.jsx)(u.a,{columns:C,dataSource:h,rowKey:"maPhim"})]})}}}]);
//# sourceMappingURL=17.21fe406e.chunk.js.map