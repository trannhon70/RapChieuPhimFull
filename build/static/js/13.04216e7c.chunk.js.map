{"version":3,"sources":["redux/actions/QuanLyPhimAction.js","services/QuanLyPhimService.js","../node_modules/rc-switch/es/index.js","../node_modules/antd/es/switch/index.js","pages/Admin/Films/Edit/Edit.js"],"names":["layDanhSachPhimAction","dispatch","a","QLPhimService","layDanhSachPhim","result","type","SET_DANH_SACH_PHIM","arrFilm","data","content","console","log","themPhimUpLoadHinhAction","formData","themPhimUpLoadHinh","alert","response","capNhatPhimUploadAction","capNhatPhimUpload","history","push","layThongTinPhimAction","maPhim","layThongTinPhim","SET_THONG_TIN_PHIM","thongTinPhim","xoaPhimAction","xoaPhim","e","layDanhSachBanner","get","GROUPID","post","delete","baseService","Switch","React","_ref","ref","_classNames","_ref$prefixCls","prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown","restProps","_objectWithoutProperties","_useMergedState","useMergedState","value","defaultValue","_useMergedState2","_slicedToArray","innerChecked","setInnerChecked","triggerChange","newChecked","event","mergedChecked","switchClassName","classNames","_defineProperty","concat","Object","assign","role","which","KeyCode","LEFT","RIGHT","ret","displayName","__rest","s","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","_a","customizePrefixCls","customizeSize","size","loading","_a$className","props","devWarning","_React$useContext","ConfigContext","getPrefixCls","direction","SizeContext","LoadingOutlined","classes","Wave","insertExtraNode","RcSwitch","_extends","__ANT_SWITCH","Edit","useState","componentSize","setComponentSize","imgSrc","setImgSrc","useSelector","state","QuanLyPhimReducer","useDispatch","useEffect","id","match","params","name","formik","useFormik","enableReinitialize","initialValues","tenPhim","trailer","moTa","ngayKhoiChieu","dangChieu","sapChieu","hot","danhGia","hinhAnh","onSubmit","values","maNhom","FormData","key","append","handleChangeSwitch","setFieldValue","handleChangeFile","file","target","files","reader","FileReader","readAsDataURL","onload","onSubmitCapture","handleSubmit","labelCol","span","wrapperCol","layout","onValuesChange","Item","label","Group","Button","handleChange","format","moment","min","max","accept","style","width","height","src","alt","class"],"mappings":"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","file":"static/js/13.04216e7c.chunk.js","sourcesContent":["import { history } from \"../../App\";\r\nimport { QLPhimService } from \"../../services/QuanLyPhimService\";\r\nimport { SET_DANH_SACH_PHIM, SET_THONG_TIN_PHIM } from \"./types/QuanLyPhimType\";\r\n\r\n\r\nexport const layDanhSachPhimAction = ()=>{\r\n    return async (dispatch)=>{\r\n        try{\r\n                //sử dụng tham số \r\n                const result = await QLPhimService.layDanhSachPhim();\r\n               \r\n                dispatch({\r\n                    type:SET_DANH_SACH_PHIM ,\r\n                    arrFilm: result.data.content\r\n                   \r\n                })\r\n    \r\n            }catch(e){\r\n                console.log('e',e);\r\n            }\r\n    };\r\n}\r\n\r\nexport const themPhimUpLoadHinhAction = (formData)=>{\r\n    return async (dispatch) => {\r\n        try{\r\n            let result = await QLPhimService.themPhimUpLoadHinh(formData);\r\n            alert('Thêm phim thành công ');\r\n            console.log('result', result);\r\n        }\r\n        catch(error){\r\n            console.log(error.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\nexport const capNhatPhimUploadAction = (formData)=>{\r\n    return async (dispatch) => {\r\n        try{\r\n            let result = await QLPhimService.capNhatPhimUpload(formData);\r\n            alert('Cập nhật phim thành công ');\r\n            console.log('result', result);\r\n            dispatch(layDanhSachPhimAction());\r\n            history.push('/admin/Films');\r\n        }\r\n        catch(error){\r\n            console.log(error.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\nexport const layThongTinPhimAction = (maPhim)=>{\r\n    return async (dispatch) => {\r\n        try{\r\n            //sử dụng tham số \r\n            const result = await QLPhimService.layThongTinPhim(maPhim);\r\n            // console.log(result.data.content);\r\n\r\n            dispatch({\r\n                type:SET_THONG_TIN_PHIM,\r\n                thongTinPhim:result.data.content\r\n            })\r\n        }\r\n        catch (e) {\r\n            console.log('e',e);\r\n        }\r\n    }\r\n}\r\n\r\nexport const xoaPhimAction = (maPhim) =>{\r\n    return async (dispatch) =>{\r\n        try{\r\n            //sử dụng tham số \r\n            const result = await QLPhimService.xoaPhim(maPhim);\r\n            alert('Xóa phim thành công');\r\n            //sau khi xóa load lại danh sách phim mới \r\n            dispatch(layDanhSachPhimAction());\r\n        }\r\n        catch (e) {\r\n            console.log({e});\r\n        }\r\n    }\r\n}","import { GROUPID } from \"../util/settings/Config\";\r\nimport { baseService } from \"./BaseSevice\";\r\n\r\n\r\nexport class QuanLyPhimService extends baseService{\r\n    constructor(){\r\n        super();\r\n    }\r\n    layDanhSachBanner =()=>{\r\n        return this.get(`/api/QuanLyPhim/LayDanhSachBanner`);\r\n    }\r\n\r\n    layDanhSachPhim =()=>{\r\n        return this.get(`/api/QuanLyPhim/LayDanhSachPhim?maNhom=${GROUPID}`);\r\n    }\r\n    themPhimUpLoadHinh = (formData)=>{\r\n        return this.post(`/api/QuanLyPhim/ThemPhimUploadHinh`,formData);\r\n    }\r\n\r\n    layThongTinPhim = (maPhim)=>{\r\n        return this.get(`/api/QuanLyPhim/LayThongTinPhim?MaPhim=${maPhim}`);\r\n    }\r\n\r\n    capNhatPhimUpload = (formData) => {\r\n        return this.post(`/api/QuanLyPhim/CapNhatPhimUpload`,formData);\r\n    }\r\n\r\n    xoaPhim = (maPhim)=>{\r\n        return this.delete(`/api/QuanLyPhim/XoaPhim?MaPhim=${maPhim}`);\r\n    }\r\n}\r\n\r\nexport const QLPhimService = new QuanLyPhimService();","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nvar Switch = React.forwardRef(function (_ref, ref) {\n  var _classNames;\n\n  var _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-switch' : _ref$prefixCls,\n      className = _ref.className,\n      checked = _ref.checked,\n      defaultChecked = _ref.defaultChecked,\n      disabled = _ref.disabled,\n      loadingIcon = _ref.loadingIcon,\n      checkedChildren = _ref.checkedChildren,\n      unCheckedChildren = _ref.unCheckedChildren,\n      onClick = _ref.onClick,\n      onChange = _ref.onChange,\n      onKeyDown = _ref.onKeyDown,\n      restProps = _objectWithoutProperties(_ref, [\"prefixCls\", \"className\", \"checked\", \"defaultChecked\", \"disabled\", \"loadingIcon\", \"checkedChildren\", \"unCheckedChildren\", \"onClick\", \"onChange\", \"onKeyDown\"]);\n\n  var _useMergedState = useMergedState(false, {\n    value: checked,\n    defaultValue: defaultChecked\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      innerChecked = _useMergedState2[0],\n      setInnerChecked = _useMergedState2[1];\n\n  function triggerChange(newChecked, event) {\n    var mergedChecked = innerChecked;\n\n    if (!disabled) {\n      mergedChecked = newChecked;\n      setInnerChecked(mergedChecked);\n      onChange === null || onChange === void 0 ? void 0 : onChange(mergedChecked, event);\n    }\n\n    return mergedChecked;\n  }\n\n  function onInternalKeyDown(e) {\n    if (e.which === KeyCode.LEFT) {\n      triggerChange(false, e);\n    } else if (e.which === KeyCode.RIGHT) {\n      triggerChange(true, e);\n    }\n\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n  }\n\n  function onInternalClick(e) {\n    var ret = triggerChange(!innerChecked, e); // [Legacy] trigger onClick with value\n\n    onClick === null || onClick === void 0 ? void 0 : onClick(ret, e);\n  }\n\n  var switchClassName = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), innerChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n  return React.createElement(\"button\", Object.assign({}, restProps, {\n    type: \"button\",\n    role: \"switch\",\n    \"aria-checked\": innerChecked,\n    disabled: disabled,\n    className: switchClassName,\n    ref: ref,\n    onKeyDown: onInternalKeyDown,\n    onClick: onInternalClick\n  }), loadingIcon, React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner\")\n  }, innerChecked ? checkedChildren : unCheckedChildren));\n});\nSwitch.displayName = 'Switch';\nexport default Switch;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcSwitch from 'rc-switch';\nimport classNames from 'classnames';\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport Wave from '../_util/wave';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport devWarning from '../_util/devWarning';\nvar Switch = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      customizeSize = _a.size,\n      loading = _a.loading,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      disabled = _a.disabled,\n      props = __rest(_a, [\"prefixCls\", \"size\", \"loading\", \"className\", \"disabled\"]);\n\n  devWarning('checked' in props || !('value' in props), 'Switch', '`value` is not a valid prop, do you mean `checked`?');\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n  var prefixCls = getPrefixCls('switch', customizePrefixCls);\n  var loadingIcon = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-handle\")\n  }, loading && /*#__PURE__*/React.createElement(LoadingOutlined, {\n    className: \"\".concat(prefixCls, \"-loading-icon\")\n  }));\n  var classes = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-small\"), (customizeSize || size) === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(Wave, {\n    insertExtraNode: true\n  }, /*#__PURE__*/React.createElement(RcSwitch, _extends({}, props, {\n    prefixCls: prefixCls,\n    className: classes,\n    disabled: disabled || loading,\n    ref: ref,\n    loadingIcon: loadingIcon\n  })));\n});\nSwitch.__ANT_SWITCH = true;\nSwitch.displayName = 'Switch';\nexport default Switch;","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Radio,\r\n    Select,\r\n    Cascader,\r\n    DatePicker,\r\n    InputNumber,\r\n    TreeSelect,\r\n    Switch,\r\n} from 'antd';\r\nimport { useFormik } from 'formik';\r\nimport moment from 'moment';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { GROUPID } from '../../../../util/settings/Config';\r\nimport { capNhatPhimUploadAction, layThongTinPhimAction } from '../../../../redux/actions/QuanLyPhimAction';\r\n\r\n\r\nconst Edit = (props) => {\r\n\r\n    const [componentSize, setComponentSize] = useState('default');\r\n    const [imgSrc,setImgSrc] = useState('');\r\n\r\n    const onFormLayoutChange = ({ size }) => {\r\n        setComponentSize(size);\r\n    };\r\n\r\n    const {thongTinPhim} = useSelector(state => state.QuanLyPhimReducer);\r\n    console.log('thongTinPhim',thongTinPhim);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        let {id} = props.match.params;\r\n        dispatch(layThongTinPhimAction(id));\r\n    }, [])\r\n    const formik = useFormik({\r\n        enableReinitialize:true,\r\n        initialValues:{\r\n            maPhim:thongTinPhim?.maPhim,\r\n            tenPhim:thongTinPhim?.tenPhim,\r\n            trailer: thongTinPhim?.trailer,\r\n            moTa:thongTinPhim?.moTa,\r\n            ngayKhoiChieu: thongTinPhim?.ngayKhoiChieu,\r\n            dangChieu: thongTinPhim?.dangChieu,\r\n            sapChieu: thongTinPhim?.sapChieu,\r\n            hot: thongTinPhim?.hot,\r\n            danhGia:thongTinPhim?.danhGia,\r\n            hinhAnh:null,\r\n           \r\n\r\n        },\r\n        onSubmit: (values)=>{\r\n            console.log({values});\r\n            //tạo đối tượng formdata => đưa giá trị values từ formik vào formdata\r\n            values.maNhom=GROUPID;\r\n            let formData = new FormData();\r\n            for(let key in values) {\r\n                \r\n                if(key!=='hinhAnh'){\r\n                    formData.append(key,values[key]);\r\n                }\r\n                else{\r\n                   if(values.hinhAnh !==null){\r\n                    formData.append('File',values.hinhAnh,values.hinhAnh.name);\r\n                   }\r\n                }\r\n            }\r\n            // console.log('formData',formData.get('File'));\r\n\r\n            // //gọi API gửi các giá trị formdata về backend sủ lý\r\n            dispatch(capNhatPhimUploadAction(formData));\r\n        }\r\n    })\r\n\r\n    const handleChangeSwitch = (name)=>{\r\n        return (value)=>{\r\n            formik.setFieldValue(name,value)\r\n        }\r\n    }\r\n\r\n    const handleChangeInputNumber = (name)=>{\r\n        return (value)=>{\r\n            formik.setFieldValue(name,value)\r\n        }\r\n    }\r\n\r\n    const handleChangeFile = async (e)=>{\r\n       //lấy file\r\n       let file = e.target.files[0];\r\n       if(file.type ==='image/jpeg' || file.type ==='image/jpg' ||file.type ==='image/gif' || file.type ==='image/png'){\r\n        //đem dữ liệu files lưu vào formik \r\n        await formik.setFieldValue('hinhAnh',file);\r\n       // tạo đối tượng để đọc file \r\n       let reader = new FileReader();\r\n       reader.readAsDataURL(file);\r\n       reader.onload= (e)=>{\r\n           // console.log(e.target.result);\r\n           setImgSrc(e.target.result)\r\n       }\r\n\r\n       // console.log('file',file);\r\n       //đếm dữ liệu file lưu vào formik\r\n       formik.setFieldValue('hinhAnh',file);\r\n    }\r\n    }\r\n    \r\n\r\n    const handleChangeDatePicker = (value) => {\r\n        // console.log('handleChangeDatePicker',value);\r\n        let ngayKhoiChieu = moment(value).format('DD/MM/YYYY');\r\n        formik.setFieldValue('ngayKhoiChieu',ngayKhoiChieu);\r\n    }\r\n    return (\r\n        <>\r\n            <Form\r\n            onSubmitCapture={formik.handleSubmit}\r\n                labelCol={{\r\n                    span: 4,\r\n                }}\r\n                wrapperCol={{\r\n                    span: 14,\r\n                }}\r\n                layout=\"horizontal\"\r\n                initialValues={{\r\n                    size: componentSize,\r\n                }}\r\n                onValuesChange={onFormLayoutChange}\r\n                size={componentSize}\r\n            >\r\n                <h3 className=\"text-2xl text-center\">Cập nhật phim  </h3>\r\n                <Form.Item label=\"Form Size\" name=\"size\">\r\n                    <Radio.Group>\r\n                        <Radio.Button value=\"small\">Small</Radio.Button>\r\n                        <Radio.Button value=\"default\">Default</Radio.Button>\r\n                        <Radio.Button value=\"large\">Large</Radio.Button>\r\n                    </Radio.Group>\r\n                </Form.Item>\r\n                <Form.Item label=\"Tên Phim\">\r\n                    <Input name=\"tenPhim\" onChange={formik.handleChange} value={formik.values.tenPhim} />\r\n                </Form.Item>\r\n                <Form.Item label=\"Trailer\">\r\n                    <Input name=\"trailer\" onChange={formik.handleChange} value={formik.values.trailer}/>\r\n                </Form.Item>\r\n                <Form.Item label=\"Mô tả\">\r\n                    <Input name=\"moTa\" onChange={formik.handleChange} value={formik.values.moTa}/>\r\n                </Form.Item>\r\n                <Form.Item label=\"Ngày khởi chiếu\">\r\n                    <DatePicker format={\"DD/MM/YYYY\"} onChange={handleChangeDatePicker} defaultValue={moment(moment(formik.values.ngayKhoiChieu), 'DD/MM/YYYY')}  />\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Đang chiếu\"  >\r\n                    <Switch  onChange={handleChangeSwitch('dangChieu')} checked={formik.values.dangChieu} />\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Sắp chiếu\" >\r\n                    <Switch onChange={handleChangeSwitch('sapChieu')} checked={formik.values.sapChieu}/>\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Hot\" >\r\n                    <Switch onChange={handleChangeSwitch('hot')} checked={formik.values.hot}/>\r\n                </Form.Item>\r\n\r\n\r\n\r\n                <Form.Item label=\"Số sao\">\r\n                    <InputNumber onChange={handleChangeInputNumber('danhGia')} min={1} max={10} value={formik.values.danhGia} />\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Hình ảnh\">\r\n                    <input type=\"file\" onChange={handleChangeFile} accept=\"image/png, image/jpeg, image/gif\"/>\r\n                    <br/>\r\n                    <img style={{ width:'150px', height:'150px' }} src={imgSrc==='' ? thongTinPhim.hinhAnh : imgSrc} alt=\"...\"  />\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Tác vụ\">\r\n                    <button type=\"submit\" class=\"btn btn-primary\">Cập nhật </button>\r\n                </Form.Item>\r\n            </Form>\r\n        </>\r\n\r\n    )\r\n}\r\nexport default Edit;"],"sourceRoot":""}